"use strict";(self.webpackChunkadmin_dashboard_template_dashwind=self.webpackChunkadmin_dashboard_template_dashwind||[]).push([[188],{5524:function(e,t,a){var s=a(9439),r=a(2791),n=a(184);t.Z=function(e){var t=e.labelTitle,a=e.labelStyle,l=e.type,c=e.containerStyle,i=e.defaultValue,o=e.placeholder,u=e.updateFormValue,d=e.updateType,m=(0,r.useState)(i),p=(0,s.Z)(m,2),h=p[0],x=p[1];return(0,n.jsxs)("div",{className:"form-control w-full ".concat(c),children:[(0,n.jsx)("label",{className:"label",children:(0,n.jsx)("span",{className:"label-text text-base-content "+a,children:t})}),(0,n.jsx)("input",{type:l||"text",value:h,placeholder:o||"",onChange:function(e){return t=e.target.value,x(t),void u({updateType:d,value:t});var t},className:"input  input-bordered w-full "})]})}},9697:function(e,t,a){var s=a(184);t.Z=function(e){var t=e.styleClass,a=e.children;return(0,s.jsx)("p",{className:"text-center  text-error ".concat(t),children:a})}},5188:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var s=a(2791),r=a(4942),n=a(1413),l=a(4165),c=a(5861),i=a(9439),o=a(1087),u=a(9434),d=a(9697),m=a(5524),p=a(1989),h=a(5054),x=a(184);var b=function(){var e=(0,s.useState)(!1),t=(0,i.Z)(e,2),a=t[0],b=t[1],f=(0,s.useState)(""),v=(0,i.Z)(f,2),j=v[0],g=v[1],y=(0,s.useState)({name:"",emailId:"",password:"",confirmPassword:"",phoneNumber:"",sponsorUsername:"",countryCode:"+91"}),w=(0,i.Z)(y,2),N=w[0],k=w[1],Z=(0,s.useState)(""),S=(0,i.Z)(Z,2),C=S[0],T=S[1],P=(0,s.useState)(!1),I=(0,i.Z)(P,2),V=I[0],U=I[1],F=(0,s.useState)([]),A=(0,i.Z)(F,2),_=A[0],R=A[1],q=(0,s.useState)(!1),E=(0,i.Z)(q,2),z=E[0],H=E[1],L=(0,s.useState)(!1),Y=(0,i.Z)(L,2),D=Y[0],G=Y[1],K=(0,s.useState)(!1),$=(0,i.Z)(K,2),B=$[0],J=$[1],M=(0,u.I0)(),O=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(t){var a,s,r,n=arguments;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:3,s=n.length>2&&void 0!==n[2]?n[2]:5e3,e.prev=2,e.next=5,p.Z.post(t.url,t.data,{timeout:s});case 5:return r=e.sent,e.abrupt("return",r.data);case 9:if(e.prev=9,e.t0=e.catch(2),!(a>0)){e.next=15;break}return e.abrupt("return",O(t,a-1,s));case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.Z.get("http://localhost:5000/api/users/terms");case 3:t=e.sent,R(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to fetch terms",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var Q=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(t){var a,s,r,n,c,i,o,u,d,m,p,x,f;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),D){e.next=4;break}return g("You must accept the terms and conditions!"),e.abrupt("return");case 4:if(g(""),T(""),N.name.trim()){e.next=11;break}return g(a="Name is required!"),M((0,h.c0)({message:a,status:0})),e.abrupt("return");case 11:if(N.emailId.trim()){e.next=16;break}return g(s="Email Id is required!"),M((0,h.c0)({message:s,status:0})),e.abrupt("return");case 16:if(N.password.trim()){e.next=21;break}return g(r="Password is required!"),M((0,h.c0)({message:r,status:0})),e.abrupt("return");case 21:if(n=/^(?=.*[a-zA-Z])(?=.*[0-9])[a-zA-Z0-9]+$/,!(N.password.length<=7)&&n.test(N.password)){e.next=27;break}return g(c="Password must be more than 7 characters and alphanumeric!"),M((0,h.c0)({message:c,status:0})),e.abrupt("return");case 27:if(N.confirmPassword.trim()){e.next=32;break}return g(i="Please confirm your password!"),M((0,h.c0)({message:i,status:0})),e.abrupt("return");case 32:if(N.password===N.confirmPassword){e.next=37;break}return g(o="Passwords do not match!"),M((0,h.c0)({message:o,status:0})),e.abrupt("return");case 37:if(N.phoneNumber.trim()){e.next=42;break}return g(u="Phone number is required!"),M((0,h.c0)({message:u,status:0})),e.abrupt("return");case 42:if(10===N.phoneNumber.length&&!isNaN(N.phoneNumber)){e.next=47;break}return g(d="Phone number must be 10 digits!"),M((0,h.c0)({message:d,status:0})),e.abrupt("return");case 47:return b(!0),e.prev=48,e.next=51,O({url:"http://localhost:5000/api/users/register",data:{username:N.name,email:N.emailId,password:N.password,phoneNumber:"".concat(N.countryCode,"-").concat(N.phoneNumber),sponsorUsername:N.sponsorUsername}});case 51:m=e.sent,T(m.message||"Registration successful!"),M((0,h.c0)({message:"Registration successful!",status:1})),localStorage.setItem("token",m.token),window.location.href="/app/dashboard",e.next=63;break;case 58:e.prev=58,e.t0=e.catch(48),f=(null===(p=e.t0.response)||void 0===p||null===(x=p.data)||void 0===x?void 0:x.message)||"Registration failed. Please try again.",g(f),M((0,h.c0)({message:f,status:0}));case 63:return e.prev=63,b(!1),e.finish(63);case 66:case"end":return e.stop()}}),e,null,[[48,58,63,66]])})));return function(t){return e.apply(this,arguments)}}(),W=function(e){var t=e.updateType,a=e.value;g(""),T(""),k((0,n.Z)((0,n.Z)({},N),{},(0,r.Z)({},t,a))),"countryCode"===t&&"+91"!==a?U(!0):"countryCode"===t&&"+91"===a&&U(!1)},X=function(){J(!B)};return(0,x.jsxs)("div",{className:"min-h-screen bg-base-200 flex items-center",children:[(0,x.jsx)("div",{className:"card mx-auto w-full max-w-5xl shadow-xl flex justify-center items-center",children:(0,x.jsx)("div",{className:"grid md:grid-cols-1 grid-cols-1 bg-base-100 rounded-xl w-full md:w-1/2 animate-fadeIn",children:(0,x.jsxs)("div",{className:"py-24 px-10",children:[(0,x.jsxs)("h1",{className:"text-3xl text-center font-bold mb-8 ",children:[(0,x.jsx)("img",{src:"/logo197.png",className:"w-12 inline-block mr-2 mask mask-circle",alt:"dashwind-logo"}),"Peplix"]}),(0,x.jsx)("h2",{className:"text-2xl font-semibold mb-2 text-center",children:"Register"}),(0,x.jsxs)("form",{onSubmit:Q,children:[(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)(m.Z,{defaultValue:N.name,updateType:"name",containerStyle:"mt-4",labelTitle:"Name",updateFormValue:W}),(0,x.jsx)(m.Z,{defaultValue:N.emailId,updateType:"emailId",containerStyle:"mt-4",labelTitle:"Email Id",updateFormValue:W}),(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)(m.Z,{defaultValue:N.password,type:B?"text":"password",updateType:"password",containerStyle:"mt-4",labelTitle:"Password",updateFormValue:W}),(0,x.jsx)("button",{type:"button",className:"absolute right-2 top-10 text-sm text-primary",onClick:X,children:B?"Hide":"Show"})]}),(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)(m.Z,{defaultValue:N.confirmPassword,type:B?"text":"password",updateType:"confirmPassword",containerStyle:"mt-4",labelTitle:"Confirm Password",updateFormValue:W}),(0,x.jsx)("button",{type:"button",className:"absolute right-2 top-10 text-sm text-primary",onClick:X,children:B?"Hide":"Show"})]}),(0,x.jsxs)("div",{className:"mt-4",children:[(0,x.jsx)("label",{className:"label",children:"Country Code"}),(0,x.jsxs)("select",{value:N.countryCode,onChange:function(e){return W({updateType:"countryCode",value:e.target.value})},className:"select select-bordered w-full",children:[(0,x.jsx)("option",{value:"+91",children:"India (+91)"}),(0,x.jsx)("option",{value:"+971",children:"UAE (+971)"}),(0,x.jsx)("option",{value:"+44",children:"UK (+44)"}),(0,x.jsx)("option",{value:"+1",children:"USA (+1)"}),(0,x.jsx)("option",{value:"+65",children:"Singapore (+65)"}),(0,x.jsx)("option",{value:"+49",children:"Germany (+49)"})]}),V&&(0,x.jsx)("p",{className:"text-red-500 mt-2 text-center",children:"Your IP address does not match this country!"})]}),(0,x.jsx)(m.Z,{defaultValue:N.phoneNumber,updateType:"phoneNumber",containerStyle:"mt-4",labelTitle:"Phone Number",updateFormValue:W}),(0,x.jsx)(m.Z,{defaultValue:N.sponsorUsername,updateType:"sponsorUsername",containerStyle:"mt-4",labelTitle:"Sponsor Username (optional)",updateFormValue:W})]}),(0,x.jsx)("div",{className:"mt-4",children:(0,x.jsxs)("label",{className:"checkbox-container flex items-center",children:[(0,x.jsx)("input",{type:"checkbox",checked:D,onChange:function(e){return G(e.target.checked)},style:{width:"20px",height:"20px"}}),(0,x.jsxs)("span",{className:"ml-2",children:["I accept the"," ",(0,x.jsx)("button",{type:"button",className:"text-blue-500 underline",onClick:function(){return H(!0)},children:"terms and conditions"})]})]})}),(0,x.jsx)(d.Z,{styleClass:"mt-8",children:j}),(0,x.jsx)("button",{type:"submit",className:"btn mt-2 w-full btn-primary ".concat(a?"loading":""),children:"Register"}),(0,x.jsxs)("div",{className:"text-center mt-4",children:["Already have an account?"," ",(0,x.jsx)(o.rU,{to:"/login",children:(0,x.jsx)("span",{className:"inline-block hover:text-primary hover:underline hover:cursor-pointer transition duration-200",children:"Login"})})]})]}),(0,x.jsx)("p",{className:"mt-4 text-center text-green-500",children:C})]})})}),z&&(0,x.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full",children:(0,x.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md",style:{backgroundColor:"#0F172A"},children:[(0,x.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Terms and Conditions"}),(0,x.jsx)("div",{className:"mt-4",children:_.length>0?(0,x.jsx)("ul",{children:_.map((function(e,t){return(0,x.jsx)("li",{className:"mb-2 text-white",children:e.paragraph},t)}))}):(0,x.jsx)("p",{className:"text-white",children:"Loading terms and conditions..."})}),(0,x.jsxs)("div",{className:"mt-4 flex justify-end space-x-2",children:[(0,x.jsx)("button",{className:"btn btn-secondary",onClick:function(){return H(!1)},children:"Close"}),(0,x.jsx)("button",{className:"btn btn-primary",onClick:function(){G(!0),H(!1)},children:"I Accept"})]})]})})]})};var f=function(){return(0,x.jsx)("div",{className:"",children:(0,x.jsx)(b,{})})}}}]);
//# sourceMappingURL=188.212a26a1.chunk.js.map