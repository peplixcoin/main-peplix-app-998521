"use strict";(self.webpackChunkadmin_dashboard_template_dashwind=self.webpackChunkadmin_dashboard_template_dashwind||[]).push([[490],{5524:function(e,t,a){var r=a(9439),s=a(2791),n=a(184);t.Z=function(e){var t=e.labelTitle,a=e.labelStyle,l=e.type,i=e.containerStyle,c=e.defaultValue,o=e.placeholder,u=e.updateFormValue,d=e.updateType,m=(0,s.useState)(c),p=(0,r.Z)(m,2),x=p[0],h=p[1];return(0,n.jsxs)("div",{className:"form-control w-full ".concat(i),children:[(0,n.jsx)("label",{className:"label",children:(0,n.jsx)("span",{className:"label-text text-base-content "+a,children:t})}),(0,n.jsx)("input",{type:l||"text",value:x,placeholder:o||"",onChange:function(e){return t=e.target.value,h(t),void u({updateType:d,value:t});var t},className:"input  input-bordered w-full "})]})}},9697:function(e,t,a){var r=a(184);t.Z=function(e){var t=e.styleClass,a=e.children;return(0,r.jsx)("p",{className:"text-center  text-error ".concat(t),children:a})}},733:function(e,t,a){a(184)},4856:function(e,t,a){var r=a(4942),s=a(1413),n=a(4165),l=a(5861),i=a(9439),c=a(2791),o=a(7689),u=a(1087),d=a(9434),m=(a(733),a(9697)),p=a(5524),x=a(1989),h=a(5054),f=a(184);t.Z=function(e){e.fetchUserProfile;var t=(0,c.useState)(!1),a=(0,i.Z)(t,2),v=a[0],b=a[1],g=(0,c.useState)(""),w=(0,i.Z)(g,2),j=w[0],y=w[1],Z=(0,c.useState)({emailId:"",password:""}),N=(0,i.Z)(Z,2),k=N[0],S=N[1],I=(0,c.useState)(""),T=(0,i.Z)(I,2),P=T[0],V=T[1],_=(0,o.s0)(),C=(0,d.I0)(),F=function(){var e=(0,l.Z)((0,n.Z)().mark((function e(t){var a,r,s=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:3,e.prev=1,e.next=4,x.Z.post("http://localhost:5000/api/users/login",t,{timeout:5e3});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:if(e.prev=8,e.t0=e.catch(1),!(a>0)){e.next=14;break}return e.abrupt("return",F(t,a-1));case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=(0,l.Z)((0,n.Z)().mark((function e(t){var a,r,s,l,i,c,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),y(""),V(""),""!==k.emailId.trim()){e.next=8;break}return y(a="Email Id is required!"),C((0,h.c0)({message:a,status:0})),e.abrupt("return");case 8:if(""!==k.password.trim()){e.next=13;break}return y(r="Password is required!"),C((0,h.c0)({message:r,status:0})),e.abrupt("return");case 13:return b(!0),e.prev=14,s={email:k.emailId,password:k.password},e.next=18,F(s);case 18:l=e.sent,localStorage.setItem("token",l.token),V("Login successful!"),C((0,h.c0)({message:"Login successful!",status:1})),_("/app/dashboard"),e.next=31;break;case 25:e.prev=25,e.t0=e.catch(14),b(!1),o=(null===(i=e.t0.response)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.message)||"Failed to login after multiple attempts. Please try again later.",y(o),C((0,h.c0)({message:o,status:0}));case 31:return e.prev=31,b(!1),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[14,25,31,34]])})));return function(t){return e.apply(this,arguments)}}(),U=function(e){var t=e.updateType,a=e.value;y(""),V(""),S((0,s.Z)((0,s.Z)({},k),{},(0,r.Z)({},t,a)))};return(0,f.jsx)("div",{className:"min-h-screen bg-base-200 flex items-center",children:(0,f.jsx)("div",{className:"card mx-auto w-full max-w-5xl shadow-xl flex justify-center items-center",children:(0,f.jsx)("div",{className:"grid md:grid-cols-1 grid-cols-1 bg-base-100 rounded-xl w-full md:w-1/2 animate-fadeIn",children:(0,f.jsxs)("div",{className:"py-24 px-10",children:[(0,f.jsxs)("h1",{className:"text-3xl text-center font-bold mb-8 ",children:[(0,f.jsx)("img",{src:"/logo197.png",className:"w-12 inline-block mr-2 mask mask-circle",alt:"dashwind-logo"}),"Peplix"]}),(0,f.jsx)("h2",{className:"text-2xl font-semibold mb-2 text-center",children:"Login"}),(0,f.jsxs)("form",{onSubmit:L,children:[(0,f.jsxs)("div",{className:"mb-4",children:[(0,f.jsx)(p.Z,{type:"email",defaultValue:k.emailId,updateType:"emailId",containerStyle:"mt-4",labelTitle:"Email Id",updateFormValue:U}),(0,f.jsx)(p.Z,{defaultValue:k.password,type:"password",updateType:"password",containerStyle:"mt-4",labelTitle:"Password",updateFormValue:U})]}),(0,f.jsx)("div",{className:"text-right text-primary",children:(0,f.jsx)(u.rU,{to:"/forgot-password",children:(0,f.jsx)("span",{className:"text-sm inline-block hover:text-primary hover:underline hover:cursor-pointer transition duration-200",children:"Forgot Password?"})})}),j&&(0,f.jsx)(m.Z,{styleClass:"mt-8",children:j}),P&&(0,f.jsx)("p",{className:"mt-4 text-center text-green-500",children:P}),(0,f.jsx)("button",{type:"submit",className:"btn mt-2 w-full btn-primary"+(v?" loading":""),disabled:v,children:"Login"}),(0,f.jsxs)("div",{className:"text-center mt-4",children:["Don't have an account yet?"," ",(0,f.jsx)(u.rU,{to:"/register",children:(0,f.jsx)("span",{className:"inline-block hover:text-primary hover:underline hover:cursor-pointer transition duration-200",children:"Register"})})]})]})]})})})})}},3490:function(e,t,a){a.r(t);a(2791);var r=a(4856),s=a(184);t.default=function(){return(0,s.jsx)("div",{className:"",children:(0,s.jsx)(r.Z,{})})}}}]);
//# sourceMappingURL=490.06d80ff8.chunk.js.map