"use strict";(self.webpackChunkadmin_dashboard_template_dashwind=self.webpackChunkadmin_dashboard_template_dashwind||[]).push([[689],{2782:function(e,t,a){var n=a(3547),s=a(184);t.Z=function(e){var t=e.title,a=e.children,r=e.topMargin,i=e.TopSideButtons;return(0,s.jsxs)("div",{className:"card w-full p-6 bg-base-100 shadow-xl "+(r||"mt-6"),children:[(0,s.jsxs)(n.Z,{styleClass:i?"inline-block":"",children:[t,i&&(0,s.jsx)("div",{className:"inline-block float-right",children:i})]}),(0,s.jsx)("div",{className:"divider mt-2"}),(0,s.jsx)("div",{className:"h-full w-full pb-6 bg-base-100",children:a})]})}},3547:function(e,t,a){var n=a(184);t.Z=function(e){var t=e.styleClass,a=e.children;return(0,n.jsx)("div",{className:"text-xl font-semibold ".concat(t),children:a})}},4105:function(e,t,a){var n=a(4165),s=a(1413),r=a(5861),i=a(9439),c=a(2791),l=a(1989),d=a(2782),o=a(9434),u=a(5054),h=a(184);t.Z=function(){var e=(0,c.useState)(0),t=(0,i.Z)(e,2),a=(t[0],t[1]),x=(0,c.useState)([]),p=(0,i.Z)(x,2),f=p[0],m=p[1],g=(0,c.useState)([]),v=(0,i.Z)(g,2),j=v[0],k=v[1],b=(0,c.useState)(0),Z=(0,i.Z)(b,2),w=(Z[0],Z[1]),N=(0,c.useState)(0),S=(0,i.Z)(N,2),_=(S[0],S[1]),y=(0,c.useState)(0),T=(0,i.Z)(y,2),D=(T[0],T[1]),P=(0,c.useState)(null),A=(0,i.Z)(P,2),I=A[0],B=A[1],C=(0,c.useState)(!0),F=(0,i.Z)(C,2),M=F[0],W=F[1],z=(0,o.I0)(),E=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var a,r,i,c=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:{},r=c.length>2&&void 0!==c[2]?c[2]:3,e.prev=2,e.next=5,l.Z.get(t,(0,s.Z)((0,s.Z)({},a),{},{timeout:5e3}));case 5:return i=e.sent,e.abrupt("return",i.data);case 9:if(e.prev=9,e.t0=e.catch(2),!(r>0)){e.next=15;break}return e.abrupt("return",E(t,a,r-1));case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){z((0,u.hS)());var e=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t,s,r,i,c,l,d,o,h;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("token")){e.next=6;break}return B("No token found, please log in again."),z((0,u.c0)({message:"No token found, please log in again.",status:0})),W(!1),e.abrupt("return");case 6:return e.prev=6,e.next=9,E("http://localhost:5000/api/users/profile",{headers:{Authorization:"Bearer ".concat(t)}});case 9:return s=e.sent,r=s.totalAmountInvested||0,a(r),e.next=14,E("http://localhost:5000/api/users/transactions",{headers:{Authorization:"Bearer ".concat(t)}});case 14:i=e.sent,c=i.sort((function(e,t){return new Date(t.dateandtime)-new Date(e.dateandtime)})),m(c),l=c.filter((function(e){return"approved"===e.status})),k(l),d=l.reduce((function(e,t){return e+(t.tokens||0)}),0),o=l.reduce((function(e,t){return e+(t.tokensAvailable||0)}),0),h=l.reduce((function(e,t){return e+(t.tokensWithdrawn||0)}),0),w(d),_(o),D(h),B(null),z((0,u.c0)({message:"Data loaded successfully!",status:1})),e.next=33;break;case 29:e.prev=29,e.t0=e.catch(6),B("Failed to fetch data."),z((0,u.c0)({message:"Failed to fetch data.",status:0}));case 33:return e.prev=33,W(!1),e.finish(33);case 36:case"end":return e.stop()}}),e,null,[[6,29,33,36]])})));return function(){return e.apply(this,arguments)}}();e()}),[z]),M?(0,h.jsx)("p",{children:"Loading..."}):I?(0,h.jsx)("p",{className:"text-red-500",children:I}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-6 mb-6",children:j.map((function(e){return(0,h.jsxs)(d.Z,{title:e.packageName,topMargin:"mt-2",children:[(0,h.jsxs)("p",{className:"text-lg",children:["Total Tokens: ",e.tokens]}),(0,h.jsxs)("p",{className:"text-lg",children:["Tokens Available: ",e.tokensAvailable.toFixed(2)]}),(0,h.jsxs)("p",{className:"text-lg",children:["Tokens Withdrawn: ",e.tokensWithdrawn]}),(0,h.jsxs)("p",{className:"text-lg",children:["Minimum Tokens: ",e.min_tokens_req]})]},e._id)}))}),(0,h.jsx)(d.Z,{title:"Transaction History",topMargin:"mt-2",children:(0,h.jsx)("div",{className:"overflow-x-auto w-full animate-fadeIn",children:(0,h.jsxs)("table",{className:"table w-full",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"Package Name"}),(0,h.jsx)("th",{children:"Package Price"}),(0,h.jsx)("th",{children:"Package Tokens"}),(0,h.jsx)("th",{children:"Stacking Period"}),(0,h.jsx)("th",{children:"Date"}),(0,h.jsx)("th",{children:"Status"})]})}),(0,h.jsx)("tbody",{children:f.map((function(e){return(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:e.packageName}),(0,h.jsxs)("td",{children:["$",e.packagePrice]}),(0,h.jsx)("td",{children:e.tokens}),(0,h.jsxs)("td",{children:[e.stackingPeriod," Days"]}),(0,h.jsx)("td",{children:new Date(e.dateandtime).toLocaleDateString()}),(0,h.jsx)("td",{children:(t=e.status,"approved"===t?(0,h.jsx)("div",{className:"badge badge-success",children:t}):"pending"===t?(0,h.jsx)("div",{className:"badge badge-primary",children:t}):"rejected"===t?(0,h.jsx)("div",{className:"badge badge-error",children:t}):(0,h.jsx)("div",{className:"badge badge-ghost",children:t}))})]},e._id);var t}))})]})})})]})}},2689:function(e,t,a){a.r(t);var n=a(2791),s=a(9434),r=a(5054),i=a(4105),c=a(184);t.default=function(){var e=(0,s.I0)();return(0,n.useEffect)((function(){e((0,r.Iw)({title:"Bills"}))}),[]),(0,c.jsx)(i.Z,{})}}}]);
//# sourceMappingURL=689.258caba9.chunk.js.map